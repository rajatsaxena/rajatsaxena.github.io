---
layout: post
title: "Video Compression using ffmpeg in Java"
date: 2017-03-27
---

I started working on video compression using ffmpeg and Java. I explored below given three option for video compression:

Decreasing frame rate
Decreasing resolution
Increase quantization loss


**Decreasing Frame Rate**

Frame rate refers to the number of frames per second. Videos are typically shot in 24 or 30 frames per second. So I picked up a random sample video which had a frame rate of 24 fps and size 42.2 MB. I started experimenting for different values of frame rate ranging from 5 to 25.

Below given is the analysis of size of file obtained after compression with different frame rate. ffprobe helps you to extract the information in json format which can then be used for plotting graphs and other analysis.

[](FrameRate.png)

**Decreasing Resolution**

Resolution is the size of the outputted video. It is measured in pixels, width x height. Now I used different resolution options to encode the video. These options are listed below:

[]()

For the analysis of video sizes at different resolutions, I numbered above mentioned resolutions from 1 to 27 starting at the top and then to bottom and then left. So the numbering goes like sqcif getting 1 and qcif getting 10 and so on.... The video is the same as one used earlier for frame rate experimentation. Analysis part is given below:

I couldn't continue with increasing quantization loss as I got stuck at some other issue but soon will be updating with it.

To Do:

[ffmpeg with android] (https://github.com/guardianproject/android-ffmpeg-java)
[video compression using opencv] (http://opencv-srf.blogspot.in/2011/09/saving-images-videos_16.html)


